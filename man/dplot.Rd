\name{dplot}
\alias{dplot}
\title{ Plot Emu Trackdata}
\description{
	A general purpose routine for plotting trackdata on a single
	plot. Tracks can be aligned at an arbitrary position, length
	normalised or averaged.  
}
\usage{
dplot(dataset, labs = NULL, offset = 0, ref.time = NULL,
         average = F, main = "", xlab = "time (ms)", ylab = "",
         xlim = NULL, ylim = NULL, cex = 0.5, linetype = F,
         normalise = F, colour = T, legn = "tl", axes = T, 
         amp = F, n = 20)
}
\arguments{
  \item{dataset}{ An Emu trackdata object.}
  \item{labs}{ A label vector with one element for each row in
    \code{dataset}.  }
  \item{offset}{ A number between 0 and 1, segments are aligned on the
    plot with this proportion of their duration corresponing to zero. }
  \item{ref.time}{A vector of one time per segment, an alternative to
    \code{offset}, segments will be lined up on the plot with these
    times at zero. }
  \item{average}{If T, the data for each unique label in \code{labs} is
    averaged.  }
  \item{normalise}{ If T, the data for each segment will be time
    normalised so that all segments appear to have the same length on
    the plot.  }
  \item{main}{A main title for the plot.}
  \item{xlab}{A label for the x-axis.}
  \item{ylab}{A label for the y-axis.}
  \item{xlim}{A vector of the minimum and maximum limits of the x-axis.}
  \item{ylim}{A vector of the minimum and maximum limits of the y-axis.}
  \item{cex}{The \code{cex} parameter passed to \code{par} to control text
    size on the plot. }
  \item{linetype}{}
  \item{colour}{colour and linetype can be either T, F or a vector.  If
    they are F then the plot will use a single colour or linetype.  If
    they are T then the plot will use a different colour/linetype for each
    line.  If they is a vector then it should consist of one label for
    each element to be plotted, the colour/linetype will be selected
    according to this label. }
  \item{legn}{The position to draw the legend, one of \code{"tl"}
    (top-left), \code{"tr"} (top-right), \code{"bl"} (bottom-left) or
    \code{"br"} (bottom-right). }
  \item{axes}{If T, axes will be drawn on the plot.}
  \item{amp}{ ~~Describe \code{amp} here~~ }
}

\details{
  This function is a general purpose plotting function for track data
  generated by the \code{track} function.  Data for each segment is lined up
  at some point along its length (eg. at the start, midpoint or end) and
  possibly normalised or averaged before being plotted.  Normalisation
  consists of stretching each segment out to have the same number of
  samples as the longest segment; the stretching is done with the Emu
  function \code{\link{linear}}.  Averaging takes account of the different
  lengths of the segments in computing the average for each time point.  
}
\value{
  None.
}
\references{ See the Emu documentation at:
  \url{http://www.shlrc.mq.edu.au/emu} }
 
\seealso{ \code{\link{emu.track}} \code{\link{segplot}} }

\examples{

## assumes a database called demo is available on your system and that
## the Emu system is installed. 

library(emu)
# find all Phonetic vowels in the database
segs <- emu.query("demo", "*", "Phonetic=A|E|I|O|U|V")

# get formant data for entire tracks, returns trackdata
data.all <- emu.track( segs, "fm" )
# plot the data aligned at the midpoint
dplot( data.all, label(segs), offset=0.5, normalise=T, main="Formant data for vowels")

}
\keyword{misc}

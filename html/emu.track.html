<html><head><title>R: Retrieve Numerical Data</title>
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>


<h2>Retrieve Numerical Data</h2>


<h3>Description</h3>

<p>
Takes the result of a database query and retrieves corresponding
time-series data from the database.
</p>


<h3>Usage</h3>

<pre>
emu.track(seglist, trackname, cut=NULL, template=attr(seglist, "database"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>seglist</code></td>
<td>
An Emu segment list. </td></tr>
<tr valign="top"><td><code>trackname</code></td>
<td>
The name of the data track to retrieve, a
string. This must be a track name defined in the database template. </td></tr>
<tr valign="top"><td><code>cut</code></td>
<td>
An optional cut time for segment data, ranges between 0
and 1, a value of 0.5 will extract data only at the segment
midpoint. </td></tr>
<tr valign="top"><td><code>template</code></td>
<td>
The database to retrieve the data from, this should
not normally be set. </td></tr>
</table>

<h3>Details</h3>

<p>
<code>emu.track</code> takes a segment list as input
and retrieves associated numerical data from the corresponding
database.  The segment list will usually be the result of a call
to <code><a href="emu.query.html">emu.query</a></code> but could be constructed with the
<code><a href="make.seglist.html">make.seglist</a></code> function. The result is either a
two dimensional array of data or an object of class
<code>trackdata</code> which may contain multi-column data
from many tokens.
</p>


<h3>Value</h3>

<p>
If only two arguments are supplied the entire data track is
retrieved for each segment in the segment list. The amount of data
returned will depend on the sample rate and number of columns in
the track requested. The returned data is packaged up as a
trackdata object.
<br>
The optional <code>cut</code> argument specifies a cut
point as a fraction of the duration of each segment in the segment
list.  If this is specified the data at this single cutpoint will
be extracted rather than that for the entire track.  The result of
<code>emu.track</code> with the cut arguement is a two
dimensional array of data with one row per segment in the original
segment list and one column per column in the requested
track. This array can be treated like any other array in Splus.
<br>
If the input segment list is in fact an event list (ie. is
derived from an annotation level defined as events in the database
template) then the result of <code>emu.track</code> is the
same as if the cut argument was specified.</p>

<h3>Note</h3>

<p>
This function calls an external program which is part of the Emu
speech database system and so requires this system to be installed on
your computer. See the Emu web site for details.
</p>


<h3>Author(s)</h3>

<p>
Steve Cassidy &lt;Steve.Cassidy@mq.edu.au&gt;
</p>


<h3>References</h3>

<p>
See the Emu documentation at:
<a href="http://www.shlrc.mq.edu.au/emu">http://www.shlrc.mq.edu.au/emu</a>
</p>


<h3>See Also</h3>

<p>
<code><a href="dplot.html">dplot</a></code> <code><a href="segplot.html">segplot</a></code> <code><a href="dapply.html">dapply</a></code>
</p>


<h3>Examples</h3>

<pre>

## assumes a database called demo is available on your system and that
## the Emu system is installed. 

# find all Phonetic vowels in the database
segs &lt;- emu.query("demo", "*", "Phonetic=vowel")

# get formant data at the midpoint, returns an array
data.mid &lt;- emu.track( segs, "fm", cut=0.5 )
# get formant data for entire tracks, returns trackdata
data.all &lt;- emu.track( segs, "fm" )
summary(data.all)

</pre>

</body></html>
